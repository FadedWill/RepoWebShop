@model EmailNotificationViewModel
@{Layout = string.Empty;}
<div style="text-align:center; font-family: 'Arial', Georgia, Serif; ">
    <section style='padding: 20px; max-width:600px; min-width:400px;' id='body'>
        <h2 style="font-family: 'Times New Roman'; font-style: italic;color: green; ">
            <a href="@Model.AbsoluteUrl" target="_blank"
               style="  padding: 15px;
                            color: white;
                            text-decoration: none;
                            border-radius: 50%;
                            background: green;">
                <strong>De las Artes</strong>
            </a>
        </h2>
        <br>
        <h2><strong>¡@Model.CustomarAlias, tu @Model.OrderType.ToLower() ya está lista!</strong></h2>
        <p>Para retirar tu pedido, acercate a nuestra sucursal con DNI.</p>

        <p style="font-size:10px;">Código de Pedido</p>

        <div style="background-color: white; width: 150px; margin: auto; border-radius: 5px; border-style: solid; border-color: green;">
            <a href="@Model.AbsoluteUrl/Order/Status/@Model.FriendlyBookingId" target="_blank" style="color: black; text-decoration: none;">
                <h1 style="font-size: 20px;">@Model.FriendlyBookingId</h1>
            </a>
        </div>
        <br />

        @if (!String.IsNullOrEmpty(Model.MercadoPagoTransaction))
        {
            <p>Comprobante MercadoPago <strong>@Model.MercadoPagoTransaction</strong></p>
        }

        @{var total = Model.OrderItems.Select(x => x.Amount * x.Price).Sum(); }
        <p><strong>Total de Compra $@total</strong></p>

        @if (!String.IsNullOrEmpty(Model.MercadoPagoTransaction))
        {
            <p><strong>Total Pagado a MercadoPago $@Model.OrderTotal</strong></p>
        }

        <table style="margin: auto; width: 80%; padding-left: 10px; padding-right: 10px; border-collapse:collapse;">
            <tr>
                <th style='border-bottom: 1px solid #ddd;'>Cantidad</th>
                <th colspan="3" style="border-bottom: 1px solid #ddd; text-align:center;">Producto</th>
            </tr>
            @foreach (var item in Model.OrderItems)
            {
                <tr>
                    <td style='padding:2px; text-align:center;'>@item.Amount</td>
                    <td colspan="3" style='padding:2px; text-align:center;'>@item.Pie.PieDetail.Name @item.Pie.Name</td>
                </tr>
            }
        </table>
        @if (!String.IsNullOrEmpty(Model.Comments))
        {
            <p><strong>Comentarios</strong></p><p>@Model.Comments</p>
        }
        <br />
        <p><strong>Importante</strong></p>
        <p>Antes de pasar a buscar tu pedido, fijate nuestros <a href='@Model.AbsoluteUrl/Calendar/OpenHours' target="_blank">horarios de atención</a>.</p>
    </section>
</div>